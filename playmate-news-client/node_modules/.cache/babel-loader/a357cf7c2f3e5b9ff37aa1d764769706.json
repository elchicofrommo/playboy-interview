{"ast":null,"code":"import _classCallCheck from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/usr/local/code/playboy-interview/playmate-news-client/src/App.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport { ApolloProvider, ApolloConsumer, Query, Mutation } from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport { ALL_NEWS, SEARCH_NEWS, ADD_NEWS } from \"./Queries\";\nvar client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\nvar link = \"http://www.woowoo.com\";\nvar description = \"mario test description\";\nvar user = \"mario\"; // contains the Apollo query for getting all the news from the server\n\nvar AllNewsEntries = function AllNewsEntries() {\n  return React.createElement(Query, {\n    query: ALL_NEWS,\n    pollInterval: 500,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, function (_ref) {\n    var loading = _ref.loading,\n        error = _ref.error,\n        data = _ref.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputNewsEntries(data.entries);\n  });\n}; // contains the Apollo query for getting search reults from the server\n\n\nvar SearchNewsEntries = function SearchNewsEntries() {\n  var map = {};\n  map[\"pattern\"] = searchPattern;\n  return React.createElement(Query, {\n    query: SEARCH_NEWS,\n    variables: map,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, function (_ref2) {\n    var loading = _ref2.loading,\n        error = _ref2.error,\n        data = _ref2.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputSearchEntries(data.search);\n  });\n};\n/**\n/\n*/\n\n\nvar AddResultsFiller = function AddResultsFiller() {\n  return React.createElement('div', {\n    className: \"newsHeader\"\n  }, 'Nothing added yet');\n};\n\nvar AddResults = AddResultsFiller;\n/**\n/\n*/\n\nfunction addNewsEntry() {\n  addLink = this.refs.addLink.value;\n  addDescription = this.refs.addDescription.value;\n  addUser = this.refs.addUser.value;\n  AddResults = AddNewsEntry; // AddResults = AllNewsEntries;\n\n  ReactDOM.render(React.createElement(AddResults, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), document.getElementById('root')); //this.render();\n} // used to display either allnews entries or search results\n\n\nvar PlaymateNewsEntries = AllNewsEntries;\n/**\nFunction to run the search query and display results\n*/\n\nfunction runSearchQuery() {\n  searchPattern = this.refs.searchTerm.value;\n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), document.getElementById('root'));\n} // end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\n\n\nfunction clearSearchResults() {\n  PlaymateNewsEntries = AllNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), document.getElementById('root'));\n}\n/* Function to run the search query and display results\n*/\n\n\nfunction outputSearchEntries(myMap) {\n  var temp = React.createElement('div', {\n    className: 'clearSearchDiv'\n  }, React.createElement('button', {\n    onClick: clearSearchResults.bind(this)\n  }, 'Clear Results'));\n  var list = [temp];\n  list.push(outputNewsEntries(myMap));\n  return list;\n}\n/* Common function between search results and all news, displays both in the same format\n*/\n\n\nfunction outputNewsEntries(myMap) {\n  var returnString = myMap.map(function (_ref3, index, x) {\n    var link = _ref3.link,\n        description = _ref3.description,\n        user = _ref3.user,\n        votes = _ref3.votes,\n        created = _ref3.created,\n        id = _ref3.id;\n    return React.createElement(\"div\", {\n      key: id,\n      className: \"newsEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, index + 1), React.createElement(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, description), \" \"), React.createElement(\"div\", {\n      className: \"stats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, votes, \" points by \", user, \" added on \", new Date(created).toLocaleDateString(), \" \", new Date(created).toLocaleTimeString()));\n  });\n  return returnString;\n}\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\n\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.user = \"mario\";\n    _this.description = \"description\";\n    _this.link = \"http://www.test.com\";\n    _this.variables = {};\n\n    _this.getVariables = function () {\n      alert(\"I'm in the getVariables\");\n      _this.variables[\"link\"] = _this.addLink;\n      _this.variables[\"user\"] = _this.addUser;\n      _this.variables[\"myDescription\"] = _this.addDescription; // let list = {this.link, this.description, this.user};\n      // return list\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"addEntryComplete\",\n    value: function addEntryComplete(data) {\n      alert(\"I'm in the addEntryComplete \");\n    }\n  }, {\n    key: \"saveDescription\",\n    value: function saveDescription(input) {\n      console.log(\"saving description: \" + input);\n      this.variables[\"addDescription\"] = input;\n      description = input;\n      this.description = input;\n    }\n  }, {\n    key: \"saveLink\",\n    value: function saveLink(input) {\n      console.log(\"saving input: \" + input);\n      this.variables[\"addLink\"] = input;\n      link = input;\n      this.link = input;\n    }\n  }, {\n    key: \"saveUser\",\n    value: function saveUser(input) {\n      console.log(\"saving user: \" + input);\n      this.variables[\"addUser\"] = input;\n      user = input;\n      this.user = input;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ApolloProvider, {\n        client: client,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"playmateNews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"newsHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"bunnyHeader\",\n        src: \"bunny-logo-feature-300.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), \" PLAYMATE NEWS\", React.createElement(\"div\", {\n        className: \"searchBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"searchButton\",\n        onClick: runSearchQuery.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"searchTerm\",\n        ref: \"searchTerm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"newsEntries\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(PlaymateNewsEntries, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(Mutation, {\n        mutation: ADD_NEWS,\n        onCompleted: this.addEntryComplete.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, function (insertEntry) {\n        return React.createElement(\"form\", {\n          onSubmit: function onSubmit(e) {\n            e.preventDefault();\n            insertEntry({\n              variables: {\n                link: link,\n                description: description,\n                user: user\n              }\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"newsHeader\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"ADD NEW NEWS\"), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, \"Description:\"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addDescription\",\n          onBlur: function onBlur(e) {\n            return _this2.saveDescription(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Link: \"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addLink\",\n          onBlur: function onBlur(e) {\n            return _this2.saveLink(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"User Name:\"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addUser\",\n          onBlur: function onBlur(e) {\n            return _this2.saveUser(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, \"Add\")), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(AddResults, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        })));\n      })));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/usr/local/code/playboy-interview/playmate-news-client/src/App.js"],"names":["React","Component","ReactDOM","ApolloProvider","ApolloConsumer","Query","Mutation","ApolloClient","ALL_NEWS","SEARCH_NEWS","ADD_NEWS","client","uri","link","description","user","AllNewsEntries","loading","error","data","outputNewsEntries","entries","SearchNewsEntries","map","searchPattern","outputSearchEntries","search","AddResultsFiller","createElement","className","AddResults","addNewsEntry","addLink","refs","value","addDescription","addUser","AddNewsEntry","render","document","getElementById","PlaymateNewsEntries","runSearchQuery","searchTerm","clearSearchResults","myMap","temp","onClick","bind","list","push","returnString","index","x","votes","created","id","Date","toLocaleDateString","toLocaleTimeString","App","variables","getVariables","alert","input","console","log","addEntryComplete","insertEntry","e","preventDefault","saveDescription","target","saveLink","saveUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport {ApolloProvider, ApolloConsumer, Query, Mutation} from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport {ALL_NEWS, SEARCH_NEWS, ADD_NEWS} from \"./Queries\";\n\n\nconst client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\n\n\n\nlet link = \"http://www.woowoo.com\"\nlet description = \"mario test description\";\nlet user = \"mario\";\n\n// contains the Apollo query for getting all the news from the server\nconst AllNewsEntries = () => {\n\n  return(\n    <Query \n      query ={ALL_NEWS}\n      pollInterval={500}>\n\n        {({ loading, error, data }) => {\n        if (loading) return \"<p>Loading...</p>\";\n        if (error) return  \"<p>Error :(</p>\";\n        return outputNewsEntries(data.entries);\n      }}\n    </Query>\n  );\n};\n\n// contains the Apollo query for getting search reults from the server\nconst SearchNewsEntries = () => {\n\n\n  let map : { [key: string]: string} = {};\n  map[\"pattern\"] = searchPattern;\n\n  return(\n    <Query \n      query ={ SEARCH_NEWS }\n      variables = {map}\n      >\n\n        {({ loading, error, data }) => {\n        if (loading) return \"<p>Loading...</p>\";\n        if (error) return  \"<p>Error :(</p>\";\n        \n        return outputSearchEntries(data.search);\n      }}\n    </Query>\n  );\n};\n\n\n/**\n/\n*/\nconst AddResultsFiller = () => {\n  return React.createElement('div', { className: \"newsHeader\"}, 'Nothing added yet');\n}\n\nlet AddResults= AddResultsFiller;\n\n\n/**\n/\n*/\nfunction addNewsEntry(){\n    addLink = this.refs.addLink.value;\n    addDescription = this.refs.addDescription.value;\n    addUser = this.refs.addUser.value;\n\n\n\n    AddResults = AddNewsEntry;\n\n   // AddResults = AllNewsEntries;\n\n    ReactDOM.render(<AddResults />, document.getElementById('root'));\n    //this.render();\n  }\n// used to display either allnews entries or search results\nlet PlaymateNewsEntries =  AllNewsEntries;\n\n\n/**\nFunction to run the search query and display results\n*/\nfunction runSearchQuery(){\n  searchPattern = this.refs.searchTerm.value;\n  \n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(<App />, document.getElementById('root'));\n}// end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\nfunction clearSearchResults(){\n  PlaymateNewsEntries = AllNewsEntries;\n\n  ReactDOM.render(<App />, document.getElementById('root'));\n}\n\n/* Function to run the search query and display results\n*/\nfunction outputSearchEntries(myMap){\n\n  let temp = \n  React.createElement('div', { className: 'clearSearchDiv'},\n    React.createElement('button', { onClick: clearSearchResults.bind(this)}, 'Clear Results')\n  );\n  let list = [temp];\n  list.push(outputNewsEntries(myMap));\n\n  return list;\n}\n\n/* Common function between search results and all news, displays both in the same format\n*/\nfunction outputNewsEntries(myMap){\n     var returnString =  myMap.map(({ link, description,user, votes, created, id }, index, x) => (\n\n        <div key={id} className=\"newsEntry\">\n          <div className=\"id\">{ index + 1}</div>\n          <div className=\"description\"><a href={link}>{description}</a> </div>\n          <div className=\"stats\">{votes} points by {user} added on {(new Date(created)).toLocaleDateString()} {(new Date(created)).toLocaleTimeString()}</div>\n\n        </div>\n\n      ));\n\n      return returnString; \n}\n\n\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\nexport default class App extends React.Component {\n\n\n  user = \"mario\"\n  description = \"description\"\n  link = \"http://www.test.com\"\n\n  variables : { [key: string]: string} = {};\n  addEntryComplete (data){\n\n    alert (\"I'm in the addEntryComplete \")\n\n  }\n\n  saveDescription(input){\n    console.log(\"saving description: \" + input )\n    this.variables[\"addDescription\"] = input;\n    description = input;\n    this.description = input;\n  }\n  saveLink(input){\n    console.log(\"saving input: \" + input )\n    this.variables[\"addLink\"] = input;\n    link = input;\n    this.link = input\n  }\n\n  saveUser(input){\n    console.log(\"saving user: \" + input )\n    this.variables[\"addUser\"] = input;\n    user = input;\n    this.user = input;\n  }\n\n\n  getVariables = ()=>{\n    alert (\"I'm in the getVariables\")\n    \n    this.variables[\"link\"] = this.addLink;\n    this.variables[\"user\"] = this.addUser;\n    this.variables[\"myDescription\"] = this.addDescription ;\n\n   // let list = {this.link, this.description, this.user};\n\n\n\n   // return list\n  }\n\n\n\n  render() {\n\n\n    return (\n      <ApolloProvider client={client}>\n\n      <div className=\"playmateNews\">\n        <div className=\"newsHeader\">\n          <img id=\"bunnyHeader\" src=\"bunny-logo-feature-300.gif\"/> PLAYMATE NEWS \n          <div className=\"searchBar\"><button id=\"searchButton\" onClick={runSearchQuery.bind(this)}>Search</button><input type=\"text\" id=\"searchTerm\" ref=\"searchTerm\" ></input></div>\n        </div>\n        <div className=\"newsEntries\">\n        <PlaymateNewsEntries/>\n        </div>\n\n        <Mutation mutation={ADD_NEWS} onCompleted={this.addEntryComplete.bind(this)}>\n        {insertEntry=>(\n          <form onSubmit={e=> {\n            e.preventDefault();\n           \n            insertEntry({variables: {link, description, user} })\n          }}>\n\n            <div className=\"newsHeader\">\n              ADD NEW NEWS \n            </div>\n\n            <div className=\"addRow\">\n              <div className=\"addLabel\">Description:</div>\n              <input className=\"textInput\" ref=\"addDescription\" onBlur={e=>(this.saveDescription(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\">\n              <div className=\"addLabel\">Link: </div>\n              <input className=\"textInput\"  ref=\"addLink\" onBlur={e=>(this.saveLink(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\">\n              <div className=\"addLabel\">User Name:</div>\n              <input className=\"textInput\"  ref=\"addUser\" onBlur={e=>(this.saveUser(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\" >\n              <button>Add</button>\n            </div>\n            <div className=\"addRow\">\n              <AddResults />\n            </div>\n          </form>\n\n        )}\n\n        </Mutation>\n      </div>\n\n\n      </ApolloProvider>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}