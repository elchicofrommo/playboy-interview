{"ast":null,"code":"import _classCallCheck from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/usr/local/code/playboy-interview/playmate-news-client/src/App.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport { ApolloProvider, ApolloConsumer, Query, Mutation } from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport { ALL_NEWS, SEARCH_NEWS, ADD_NEWS } from \"./Queries\";\nvar client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\nvar searchPattern = \"coding\";\nvar addLink = \"http://www.testlink.com\";\nvar addDescription = \"test description\";\nvar addUser = \"testUser\"; // contains the Apollo query for getting all the news from the server\n\nvar AllNewsEntries = function AllNewsEntries() {\n  return React.createElement(Query, {\n    query: ALL_NEWS,\n    pollInterval: 500,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, function (_ref) {\n    var loading = _ref.loading,\n        error = _ref.error,\n        data = _ref.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputNewsEntries(data.entries);\n  });\n}; // contains the Apollo query for getting search reults from the server\n\n\nvar SearchNewsEntries = function SearchNewsEntries() {\n  var map = {};\n  map[\"pattern\"] = searchPattern;\n  return React.createElement(Query, {\n    query: SEARCH_NEWS,\n    variables: map,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, function (_ref2) {\n    var loading = _ref2.loading,\n        error = _ref2.error,\n        data = _ref2.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputSearchEntries(data.search);\n  });\n};\n/**\n/\n*/\n\n\nvar AddResultsFiller = function AddResultsFiller() {\n  return React.createElement('div', {\n    className: \"newsHeader\"\n  }, 'Nothing added yet');\n};\n\nvar AddResults = AddResultsFiller;\n\nvar AddNewsEntry = function AddNewsEntry() {\n  var map = {};\n  map[\"link\"] = addLink;\n  map[\"description\"] = addDescription;\n  map[\"user\"] = addUser;\n  alert(\"link is \" + map[\"link\"]);\n  alert(\"description is \" + map[\"description\"]);\n  alert(\"user is \" + map[\"user\"]);\n  return React.createElement(Mutation, {\n    mutation: ADD_NEWS,\n    variables: map,\n    ignoreResults: false,\n    client: client,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, function (_ref3) {\n    var loading = _ref3.loading,\n        error = _ref3.error,\n        data = _ref3.data,\n        called = _ref3.called,\n        client = _ref3.client;\n    if (loading) return React.createElement('div', {\n      className: \"newsHeader\"\n    }, 'Loading ...');\n    if (error) return React.createElement('div', {\n      className: \"newsHeader\"\n    }, '*** ERROR ***');\n    alert(\"loading is \" + loading);\n    alert(\"error is \" + error);\n    alert(\"data is \" + data);\n    alert(\" the mutate was called? \" + called);\n    alert(\"the client shoudl be an object? \" + client);\n    return outputNewsEntries(data.insertEntry);\n  });\n};\n/**\n/\n*/\n\n\nfunction addNewsEntry() {\n  addLink = this.refs.addLink.value;\n  addDescription = this.refs.addDescription.value;\n  addUser = this.refs.addUser.value;\n  AddResults = AddNewsEntry; // AddResults = AllNewsEntries;\n\n  ReactDOM.render(React.createElement(AddResults, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), document.getElementById('root')); //this.render();\n} // used to display either allnews entries or search results\n\n\nvar PlaymateNewsEntries = AllNewsEntries;\n/**\nFunction to run the search query and display results\n*/\n\nfunction runSearchQuery() {\n  searchPattern = this.refs.searchTerm.value;\n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), document.getElementById('root'));\n} // end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\n\n\nfunction clearSearchResults() {\n  PlaymateNewsEntries = AllNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), document.getElementById('root'));\n}\n/* Function to run the search query and display results\n*/\n\n\nfunction outputSearchEntries(myMap) {\n  var temp = React.createElement('div', {\n    className: 'clearSearchDiv'\n  }, React.createElement('button', {\n    onClick: clearSearchResults.bind(this)\n  }, 'Clear Results'));\n  var list = [temp];\n  list.push(outputNewsEntries(myMap));\n  return list;\n}\n/* Common function between search results and all news, displays both in the same format\n*/\n\n\nfunction outputNewsEntries(myMap) {\n  var returnString = myMap.map(function (_ref4, index, x) {\n    var link = _ref4.link,\n        description = _ref4.description,\n        user = _ref4.user,\n        votes = _ref4.votes,\n        created = _ref4.created,\n        id = _ref4.id;\n    return React.createElement(\"div\", {\n      key: id,\n      className: \"newsEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, index + 1), React.createElement(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, description), \" \"), React.createElement(\"div\", {\n      className: \"stats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, votes, \" points by \", user, \" added on \", new Date(created).toLocaleDateString(), \" \", new Date(created).toLocaleTimeString()));\n  });\n  return returnString;\n}\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\n\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.name = \"mario\";\n    _this.description = \"description\";\n    _this.link = \"http://www.test.com\";\n    _this.variables = {};\n\n    _this.getVariables = function () {\n      alert(\"I'm in the getVariables\");\n      _this.variables[\"addLink\"] = _this.addLink;\n      _this.variables[\"addUser\"] = _this.addUser;\n      _this.variables[\"addDescription\"] = _this.addDescription;\n      return _this.variables;\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"addEntryComplete\",\n    value: function addEntryComplete(data) {\n      alert(\"I'm in the addEntryComplete \");\n      this.refs.refs.addDescription.value = \"\";\n      this.ref.addLink = \"\";\n      this.ref.addUser = \"\";\n    }\n  }, {\n    key: \"saveDescription\",\n    value: function saveDescription(input) {\n      console.log(\"saving description: \" + input);\n      addDescription = input;\n    }\n  }, {\n    key: \"saveLink\",\n    value: function saveLink(input) {\n      console.log(\"saving input: \" + input);\n      addLink = input;\n    }\n  }, {\n    key: \"saveUser\",\n    value: function saveUser(input) {\n      console.log(\"saving user: \" + input);\n      addUser = input;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ApolloProvider, {\n        client: client,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"playmateNews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"newsHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"bunnyHeader\",\n        src: \"bunny-logo-feature-300.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), \" PLAYMATE NEWS\", React.createElement(\"div\", {\n        className: \"searchBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"searchButton\",\n        onClick: runSearchQuery.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"searchTerm\",\n        ref: \"searchTerm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"newsEntries\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(PlaymateNewsEntries, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      })), React.createElement(Mutation, {\n        mutation: ADD_NEWS,\n        onCompleted: this.addEntryComplete.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, function (insertEntry) {\n        return React.createElement(\"form\", {\n          onSubmit: function onSubmit(e) {\n            e.preventDefault();\n            insertEntry({\n              variables: _this2.getVariables.bind(_this2)\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"newsHeader\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, \"ADD NEW NEWS\"), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, \"Description:\"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addDescription\",\n          onBlur: function onBlur(e) {\n            return _this2.saveDescription(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, \"Link: \"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addLink\",\n          onBlur: function onBlur(e) {\n            return _this2.saveLink(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"addLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, \"User Name:\"), React.createElement(\"input\", {\n          className: \"textInput\",\n          ref: \"addUser\",\n          onBlur: function onBlur(e) {\n            return _this2.saveUser(e.target.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, \"Add\")), React.createElement(\"div\", {\n          className: \"addRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(AddResults, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        })));\n      })));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/usr/local/code/playboy-interview/playmate-news-client/src/App.js"],"names":["React","Component","ReactDOM","ApolloProvider","ApolloConsumer","Query","Mutation","ApolloClient","ALL_NEWS","SEARCH_NEWS","ADD_NEWS","client","uri","searchPattern","addLink","addDescription","addUser","AllNewsEntries","loading","error","data","outputNewsEntries","entries","SearchNewsEntries","map","outputSearchEntries","search","AddResultsFiller","createElement","className","AddResults","AddNewsEntry","alert","called","insertEntry","addNewsEntry","refs","value","render","document","getElementById","PlaymateNewsEntries","runSearchQuery","searchTerm","clearSearchResults","myMap","temp","onClick","bind","list","push","returnString","index","x","link","description","user","votes","created","id","Date","toLocaleDateString","toLocaleTimeString","App","name","variables","getVariables","ref","input","console","log","addEntryComplete","e","preventDefault","saveDescription","target","saveLink","saveUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport {ApolloProvider, ApolloConsumer, Query, Mutation} from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport {ALL_NEWS, SEARCH_NEWS, ADD_NEWS} from \"./Queries\";\n\n\nconst client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\n\nlet searchPattern = \"coding\";\nlet addLink = \"http://www.testlink.com\"\nlet addDescription = \"test description\";\nlet addUser = \"testUser\";\n\n// contains the Apollo query for getting all the news from the server\nconst AllNewsEntries = () => {\n\n  return(\n    <Query \n      query ={ALL_NEWS}\n      pollInterval={500}>\n\n        {({ loading, error, data }) => {\n        if (loading) return \"<p>Loading...</p>\";\n        if (error) return  \"<p>Error :(</p>\";\n        return outputNewsEntries(data.entries);\n      }}\n    </Query>\n  );\n};\n\n// contains the Apollo query for getting search reults from the server\nconst SearchNewsEntries = () => {\n\n\n  let map : { [key: string]: string} = {};\n  map[\"pattern\"] = searchPattern;\n\n  return(\n    <Query \n      query ={ SEARCH_NEWS }\n      variables = {map}\n      >\n\n        {({ loading, error, data }) => {\n        if (loading) return \"<p>Loading...</p>\";\n        if (error) return  \"<p>Error :(</p>\";\n        \n        return outputSearchEntries(data.search);\n      }}\n    </Query>\n  );\n};\n\n\n/**\n/\n*/\nconst AddResultsFiller = () => {\n  return React.createElement('div', { className: \"newsHeader\"}, 'Nothing added yet');\n}\n\nlet AddResults= AddResultsFiller;\n\nconst AddNewsEntry = () => {\n\n      let map : { [key: string]: string} = {};\n      map[\"link\"] = addLink;\n      map[\"description\"] = addDescription;\n      map[\"user\"] = addUser;\n\n      alert(\"link is \" + map[\"link\"]);\n      alert(\"description is \" + map[\"description\"]);\n      alert(\"user is \" + map[\"user\"]);\n\n      return (\n\n        <Mutation \n          mutation={ADD_NEWS}\n          variables={map}\n          ignoreResults={false}\n          client={client}>\n\n            {({ loading, error, data , called, client}) => {\n\n              if (loading) return React.createElement('div', { className: \"newsHeader\"}, 'Loading ...');\n              if (error) return  React.createElement('div', { className: \"newsHeader\"}, '*** ERROR ***');\n\nalert(\"loading is \" + loading);\nalert(\"error is \" + error);\nalert(\"data is \" + data);\nalert(\" the mutate was called? \" + called);\nalert(\"the client shoudl be an object? \" + client )\n              return outputNewsEntries(data.insertEntry);\n            }}\n        </Mutation>\n\n      );\n    };\n/**\n/\n*/\nfunction addNewsEntry(){\n    addLink = this.refs.addLink.value;\n    addDescription = this.refs.addDescription.value;\n    addUser = this.refs.addUser.value;\n\n\n\n    AddResults = AddNewsEntry;\n\n   // AddResults = AllNewsEntries;\n\n    ReactDOM.render(<AddResults />, document.getElementById('root'));\n    //this.render();\n  }\n// used to display either allnews entries or search results\nlet PlaymateNewsEntries =  AllNewsEntries;\n\n\n/**\nFunction to run the search query and display results\n*/\nfunction runSearchQuery(){\n  searchPattern = this.refs.searchTerm.value;\n  \n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(<App />, document.getElementById('root'));\n}// end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\nfunction clearSearchResults(){\n  PlaymateNewsEntries = AllNewsEntries;\n\n  ReactDOM.render(<App />, document.getElementById('root'));\n}\n\n/* Function to run the search query and display results\n*/\nfunction outputSearchEntries(myMap){\n\n  let temp = \n  React.createElement('div', { className: 'clearSearchDiv'},\n    React.createElement('button', { onClick: clearSearchResults.bind(this)}, 'Clear Results')\n  );\n  let list = [temp];\n  list.push(outputNewsEntries(myMap));\n\n  return list;\n}\n\n/* Common function between search results and all news, displays both in the same format\n*/\nfunction outputNewsEntries(myMap){\n     var returnString =  myMap.map(({ link, description,user, votes, created, id }, index, x) => (\n\n        <div key={id} className=\"newsEntry\">\n          <div className=\"id\">{ index + 1}</div>\n          <div className=\"description\"><a href={link}>{description}</a> </div>\n          <div className=\"stats\">{votes} points by {user} added on {(new Date(created)).toLocaleDateString()} {(new Date(created)).toLocaleTimeString()}</div>\n\n        </div>\n\n      ));\n\n      return returnString; \n}\n\n\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\nexport default class App extends React.Component {\n\n\n  name = \"mario\"\n  description = \"description\"\n  link = \"http://www.test.com\"\n\n  variables : { [key: string]: string} = {};\n  addEntryComplete (data){\n\n    alert (\"I'm in the addEntryComplete \")\n    this.refs.refs.addDescription.value=\"\";\n    this.ref.addLink=\"\";\n    this.ref.addUser=\"\";\n  }\n\n  saveDescription(input){\n    console.log(\"saving description: \" + input )\n    addDescription = input;\n  }\n  saveLink(input){\n    console.log(\"saving input: \" + input )\n    addLink = input;\n  }\n\n  saveUser(input){\n    console.log(\"saving user: \" + input )\n    addUser = input;\n  }\n\n\n  getVariables = ()=>{\n    alert (\"I'm in the getVariables\")\n    \n    this.variables[\"addLink\"] = this.addLink;\n    this.variables[\"addUser\"] = this.addUser;\n    this.variables[\"addDescription\"] = this.addDescription ;\n\n    return this.variables\n  }\n\n\n\n  render() {\n\n\n    return (\n      <ApolloProvider client={client}>\n\n      <div className=\"playmateNews\">\n        <div className=\"newsHeader\">\n          <img id=\"bunnyHeader\" src=\"bunny-logo-feature-300.gif\"/> PLAYMATE NEWS \n          <div className=\"searchBar\"><button id=\"searchButton\" onClick={runSearchQuery.bind(this)}>Search</button><input type=\"text\" id=\"searchTerm\" ref=\"searchTerm\" ></input></div>\n        </div>\n        <div className=\"newsEntries\">\n        <PlaymateNewsEntries/>\n        </div>\n\n        <Mutation mutation={ADD_NEWS} onCompleted={this.addEntryComplete.bind(this)}>\n        {insertEntry=>(\n          <form onSubmit={e=> {\n            e.preventDefault();\n           \n            insertEntry({variables: this.getVariables.bind(this)})\n          }}>\n\n            <div className=\"newsHeader\">\n              ADD NEW NEWS \n            </div>\n\n            <div className=\"addRow\">\n              <div className=\"addLabel\">Description:</div>\n              <input className=\"textInput\" ref=\"addDescription\" onBlur={e=>(this.saveDescription(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\">\n              <div className=\"addLabel\">Link: </div>\n              <input className=\"textInput\"  ref=\"addLink\" onBlur={e=>(this.saveLink(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\">\n              <div className=\"addLabel\">User Name:</div>\n              <input className=\"textInput\"  ref=\"addUser\" onBlur={e=>(this.saveUser(e.target.value))}></input>\n            </div>\n            <div className=\"addRow\" >\n              <button>Add</button>\n            </div>\n            <div className=\"addRow\">\n              <AddResults />\n            </div>\n          </form>\n\n        )}\n\n        </Mutation>\n      </div>\n\n\n      </ApolloProvider>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}