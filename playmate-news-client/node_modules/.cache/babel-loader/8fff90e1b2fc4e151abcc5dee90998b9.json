{"ast":null,"code":"import _taggedTemplateLiteral from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/usr/local/code/playboy-interview/playmate-news-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/usr/local/code/playboy-interview/playmate-news-client/src/App.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"mutation { \\n        insertEntry\\n        ( \\n          link: link,  \\n          description: description, \\n          user:  user\\n        )\\n        { \\n          link, \\n          description, \\n          user, \\n          votes, \\n          created, \\n          id\\n        } \\n      }\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { ApolloProvider, ApolloConsumer, Query, Mutation } from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport gql from \"graphql-tag\";\nvar client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\nvar searchPattern = \"coding\"; // contains the Apollo query for getting all the news from the server\n\nvar AllNewsEntries = function AllNewsEntries() {\n  return React.createElement(Query, {\n    query: gql(\"query { entries { link description user votes created id } }\"),\n    pollInterval: 500,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, function (_ref) {\n    var loading = _ref.loading,\n        error = _ref.error,\n        data = _ref.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputNewsEntries(data.entries);\n  });\n}; // contains the Apollo query for getting search reults from the server\n\n\nvar SearchNewsEntries = function SearchNewsEntries() {\n  return React.createElement(Query, {\n    query: gql(\"query { search(pattern: \\\"\" + searchPattern + \"\\\") { link description user votes created id } }\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, function (_ref2) {\n    var loading = _ref2.loading,\n        error = _ref2.error,\n        data = _ref2.data;\n    if (loading) return \"<p>Loading...</p>\";\n    if (error) return \"<p>Error :(</p>\";\n    return outputSearchEntries(data.search);\n  });\n}; // used to display either allnews entries or search results\n\n\nvar PlaymateNewsEntries = AllNewsEntries;\n\nvar AddResults = function AddResults() {\n  return React.createElement('div', {\n    className: \"newsHeader\"\n  }, 'Nothing added yet');\n};\n/**\nAdds a new News entry to the playmante news board\n*/\n\n\nfunction addNewsEntry() {\n  var addLink = this.refs.addLink.value;\n  var addDescription = this.refs.addDescription.value;\n  var addUser = this.refs.addUser.value;\n}\n/**\nFunction to run the search query and display results\n*/\n\n\nfunction runSearchQuery() {\n  searchPattern = this.refs.searchTerm.value;\n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), document.getElementById('root'));\n} // end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\n\n\nfunction clearSearchResults() {\n  PlaymateNewsEntries = AllNewsEntries;\n  ReactDOM.render(React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), document.getElementById('root'));\n}\n/* Function to run the search query and display results\n*/\n\n\nfunction outputSearchEntries(myMap) {\n  var temp = React.createElement('div', {\n    className: 'clearSearchDiv'\n  }, React.createElement('button', {\n    onClick: clearSearchResults.bind(this)\n  }, 'Clear Results'));\n  var list = [temp];\n  list.push(outputNewsEntries(myMap));\n  return list;\n}\n/* Common function between search results and all news, displays both in the same format\n*/\n\n\nfunction outputNewsEntries(myMap) {\n  var returnString = myMap.map(function (_ref3, index, x) {\n    var link = _ref3.link,\n        description = _ref3.description,\n        user = _ref3.user,\n        votes = _ref3.votes,\n        created = _ref3.created,\n        id = _ref3.id;\n    return React.createElement(\"div\", {\n      key: id,\n      className: \"newsEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, index + 1), React.createElement(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, description), \" \"), React.createElement(\"div\", {\n      className: \"stats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, votes, \" points by \", user, \" added on \", new Date(created).toLocaleDateString(), \" \", new Date(created).toLocaleTimeString()));\n  });\n  return returnString;\n}\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\n\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.addLink = \"\";\n    _this.addDescription = \"\";\n    _this.addUser = \"\";\n    _this.client = new ApolloClient({\n      uri: \"http://localhost:4000/\"\n    });\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"addNewsEntry\",\n\n    /**\n    Adds a new News entry to the playmante news board\n    */\n    value: function addNewsEntry() {\n      this.addLink = this.refs.addLink.value;\n      this.addDescription = this.refs.addDescription.value;\n      this.addUser = this.refs.addUser.value;\n\n      var AddNewsEntry = function AddNewsEntry(link, user, description) {\n        var myQuery = gql(_templateObject());\n        alert(myQuery);\n        return React.createElement(Mutation, {\n          mutation: myQuery,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, function (_ref4) {\n          var loading = _ref4.loading,\n              error = _ref4.error,\n              data = _ref4.data;\n          if (loading) return \"<p>Loading...</p>\";\n          if (error) return \"<p>Error</p>\";\n          return \"<p>success</p>\";\n        });\n      };\n\n      var temp2 = AddResults;\n      alert(temp2); //AddResults = AddNewsEntry.call(this.addLink, this.addDescription, this.addUser);\n\n      AddResults = AllNewsEntries;\n      ReactDOM.render(React.createElement(App, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), document.getElementById('root')); //this.render();\n    }\n  }, {\n    key: \"generateAddQuery\",\n    value: function generateAddQuery() {\n      var addEntry = \"mutation { insertEntry( link: \\\"\" + this.addLink + \"\\\",  description: \\\"\" + this.addDescription + \"\\\", user:  \\\"\" + this.addUser + \"\\\"){ link, description, user, votes, created, id } }\";\n      return addEntry;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ApolloProvider, {\n        client: client,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"playmateNews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"newsHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"bunnyHeader\",\n        src: \"bunny-logo-feature-300.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), \" PLAYMATE NEWS\", React.createElement(\"div\", {\n        className: \"searchBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"searchButton\",\n        onClick: runSearchQuery.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"searchTerm\",\n        ref: \"searchTerm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"newsEntries\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(PlaymateNewsEntries, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"newsHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"ADD NEW NEWS\"), React.createElement(\"div\", {\n        className: \"addRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"addLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Description:\"), React.createElement(\"input\", {\n        className: \"textInput\",\n        ref: \"addDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"addRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"addLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Link: \"), React.createElement(\"input\", {\n        className: \"textInput\",\n        ref: \"addLink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"addRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"addLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"User Name:\"), React.createElement(\"input\", {\n        className: \"textInput\",\n        ref: \"addUser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"addRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.addNewsEntry.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Add\")), React.createElement(\"div\", {\n        className: \"addRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(AddResults, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/usr/local/code/playboy-interview/playmate-news-client/src/App.js"],"names":["React","Component","ReactDOM","ApolloProvider","ApolloConsumer","Query","Mutation","ApolloClient","gql","client","uri","searchPattern","AllNewsEntries","loading","error","data","outputNewsEntries","entries","SearchNewsEntries","outputSearchEntries","search","PlaymateNewsEntries","AddResults","createElement","className","addNewsEntry","addLink","refs","value","addDescription","addUser","runSearchQuery","searchTerm","render","document","getElementById","clearSearchResults","myMap","temp","onClick","bind","list","push","returnString","map","index","x","link","description","user","votes","created","id","Date","toLocaleDateString","toLocaleTimeString","App","AddNewsEntry","myQuery","alert","temp2","addEntry"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport logo from './logo.svg';\nimport './App.css';\nimport {ApolloProvider, ApolloConsumer, Query, Mutation} from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport gql from \"graphql-tag\";\n\nconst client = new ApolloClient({\n  uri: \"http://localhost:4000/\"\n});\n\nlet searchPattern = \"coding\";\n\n// contains the Apollo query for getting all the news from the server\nconst AllNewsEntries = () => (\n\n  <Query \n    query ={gql(\"query { entries { link description user votes created id } }\") }\n    pollInterval={500}>\n\n      {({ loading, error, data }) => {\n      if (loading) return \"<p>Loading...</p>\";\n      if (error) return  \"<p>Error :(</p>\";\n      return outputNewsEntries(data.entries);\n    }}\n  </Query>\n);\n\n// contains the Apollo query for getting search reults from the server\nconst SearchNewsEntries = () => (\n\n  <Query query ={gql(\"query { search(pattern: \\\"\"+searchPattern+\"\\\") { link description user votes created id } }\") }>\n\n      {({ loading, error, data }) => {\n      if (loading) return \"<p>Loading...</p>\";\n      if (error) return  \"<p>Error :(</p>\";\n      \n      return outputSearchEntries(data.search);\n    }}\n  </Query>\n);\n\n// used to display either allnews entries or search results\nlet PlaymateNewsEntries =  AllNewsEntries;\nlet AddResults = () => {\n  return React.createElement('div', { className: \"newsHeader\"}, 'Nothing added yet');\n}\n\n/**\nAdds a new News entry to the playmante news board\n*/\nfunction addNewsEntry(){\n  var addLink = this.refs.addLink.value;\n  var addDescription = this.refs.addDescription.value;\n  var addUser = this.refs.addUser.value;\n}\n\n/**\nFunction to run the search query and display results\n*/\nfunction runSearchQuery(){\n  searchPattern = this.refs.searchTerm.value;\n\n\n  PlaymateNewsEntries = SearchNewsEntries;\n  ReactDOM.render(<App />, document.getElementById('root'));\n}// end of function runSearchQuery\n\n/* Function to clear search results and return to just the news feed\n*/\nfunction clearSearchResults(){\n  PlaymateNewsEntries = AllNewsEntries;\n\n  ReactDOM.render(<App />, document.getElementById('root'));\n}\n\n/* Function to run the search query and display results\n*/\nfunction outputSearchEntries(myMap){\n\n  let temp = \n  React.createElement('div', { className: 'clearSearchDiv'},\n    React.createElement('button', { onClick: clearSearchResults.bind(this)}, 'Clear Results')\n  );\n  let list = [temp];\n  list.push(outputNewsEntries(myMap));\n\n  return list;\n}\n\n/* Common function between search results and all news, displays both in the same format\n*/\nfunction outputNewsEntries(myMap){\n     var returnString =  myMap.map(({ link, description,user, votes, created, id }, index, x) => (\n\n        <div key={id} className=\"newsEntry\">\n          <div className=\"id\">{ index + 1}</div>\n          <div className=\"description\"><a href={link}>{description}</a> </div>\n          <div className=\"stats\">{votes} points by {user} added on {(new Date(created)).toLocaleDateString()} {(new Date(created)).toLocaleTimeString()}</div>\n\n        </div>\n\n      ));\n\n      return returnString; \n}\n\n\n/** \n(/  --- not sure why, but this squence fixes my editor sytax so I'm leaving it in.\n  Class for primary react component\n*/\nexport default class App extends React.Component {\n\n  addLink = \"\";\n  addDescription = \"\";\n  addUser = \"\"; \n  client = new ApolloClient({\n    uri: \"http://localhost:4000/\"\n  });\n\n  /**\n  Adds a new News entry to the playmante news board\n  */\n  addNewsEntry(){\n    this.addLink = this.refs.addLink.value;\n    this.addDescription = this.refs.addDescription.value;\n    this.addUser = this.refs.addUser.value;\n\n\n    var AddNewsEntry = (link, user, description) => {\n\n      var myQuery = gql `mutation { \n        insertEntry\n        ( \n          link: link,  \n          description: description, \n          user:  user\n        )\n        { \n          link, \n          description, \n          user, \n          votes, \n          created, \n          id\n        } \n      }`;\n      alert(myQuery);\n\n\n      return (\n\n        <Mutation mutation={myQuery }>\n\n            {({ loading, error, data }) => {\n              if (loading) return \"<p>Loading...</p>\";\n              if (error) return  \"<p>Error</p>\";\n\n              return \"<p>success</p>\";\n            }}\n        </Mutation>\n\n      );\n    };\n\n\n    \n    var temp2 = AddResults;\n    alert(temp2);\n    //AddResults = AddNewsEntry.call(this.addLink, this.addDescription, this.addUser);\n\n    AddResults = AllNewsEntries;\n\n    ReactDOM.render(<App />, document.getElementById('root'));\n    //this.render();\n  }\n\n  generateAddQuery(){\n      var addEntry = \"mutation { insertEntry( link: \\\"\"+this.addLink+\"\\\",  description: \\\"\"+this.addDescription+\"\\\", user:  \\\"\"+this.addUser+\"\\\"){ link, description, user, votes, created, id } }\"\n      return addEntry;\n  }\n\n\n  render() {\n    return (\n      <ApolloProvider client={client}>\n\n      <div className=\"playmateNews\">\n        <div className=\"newsHeader\">\n          <img id=\"bunnyHeader\" src=\"bunny-logo-feature-300.gif\"/> PLAYMATE NEWS \n          <div className=\"searchBar\"><button id=\"searchButton\" onClick={runSearchQuery.bind(this)}>Search</button><input type=\"text\" id=\"searchTerm\" ref=\"searchTerm\" ></input></div>\n        </div>\n        <div className=\"newsEntries\">\n        <PlaymateNewsEntries/>\n        </div>\n\n        <div className=\"newsHeader\">\n          ADD NEW NEWS \n        </div>\n\n        <div className=\"addRow\">\n          <div className=\"addLabel\">Description:</div>\n          <input className=\"textInput\" ref=\"addDescription\"></input>\n        </div>\n        <div className=\"addRow\">\n          <div className=\"addLabel\">Link: </div>\n          <input className=\"textInput\"  ref=\"addLink\"></input>\n        </div>\n        <div className=\"addRow\">\n          <div className=\"addLabel\">User Name:</div>\n          <input className=\"textInput\"  ref=\"addUser\"></input>\n        </div>\n        <div className=\"addRow\" >\n          <button onClick={this.addNewsEntry.bind(this)}>Add</button>\n        </div>\n        <div className=\"addRow\">\n          <AddResults />\n        </div>\n      </div>\n\n\n      </ApolloProvider>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}